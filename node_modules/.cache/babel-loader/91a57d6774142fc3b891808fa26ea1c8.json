{"ast":null,"code":"import _classCallCheck from \"/Users/michaelye/code/spliffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/michaelye/code/spliffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/michaelye/code/spliffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/michaelye/code/spliffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/michaelye/code/spliffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/michaelye/code/spliffy/src/Gif.js\";\nimport React, { Component } from 'react';\nimport Modal from 'react-responsive-modal';\nimport ReactDOM from 'react-dom';\n\nvar Gif =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Gif, _Component);\n\n  function Gif(props) {\n    var _this;\n\n    _classCallCheck(this, Gif);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Gif).call(this, props));\n\n    _this.handleMouseEnter = function (e) {\n      e.srcElement.classList.add('hover');\n      e.srcElement.querySelector('.favorite').classList.add('show');\n    };\n\n    _this.handleMouseLeave = function (e) {\n      e.srcElement.classList.remove('hover');\n      e.srcElement.querySelector('.favorite').classList.remove('show');\n    };\n\n    _this.handleFavoriteClick = function () {\n      var _this$props = _this.props,\n          gif = _this$props.gif,\n          addFavorite = _this$props.addFavorite,\n          removeFavorite = _this$props.removeFavorite;\n\n      if (_this.state.favorite) {\n        _this.setState({\n          favorite: false\n        });\n\n        removeFavorite(gif);\n      } else {\n        _this.setState({\n          favorite: true\n        });\n\n        addFavorite(gif);\n      }\n    };\n\n    _this.openModal = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.closeModal = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.state = {\n      open: false,\n      favorite: props.favorite\n    };\n    return _this;\n  }\n\n  _createClass(Gif, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var gif = ReactDOM.findDOMNode(this);\n      gif.addEventListener('mouseenter', this.handleMouseEnter);\n      gif.addEventListener('mouseleave', this.handleMouseLeave);\n    }\n    /* Element event handlers */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var gif = this.props.gif,\n          _this$state = this.state,\n          open = _this$state.open,\n          favorite = _this$state.favorite,\n          width = window.innerWidth - 65 > gif.images.original.width ? gif.images.original.width : window.innerWidth - 65,\n          style = {\n        width: width\n      };\n      return React.createElement(\"div\", {\n        className: \"gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: gif.images.downsized_medium.url,\n        alt: \"gif failed to load\",\n        className: \"gif-img\",\n        onClick: this.openModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: function () {\n          return favorite ? 'favorite favorited show' : 'favorite';\n        }(),\n        onClick: this.handleFavoriteClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"\\u2665\"), React.createElement(Modal, {\n        open: open,\n        onClose: this.closeModal,\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gif-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, gif.title), React.createElement(\"img\", {\n        src: gif.images.original.url,\n        alt: \"gif failed to load\",\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"gif-url\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: function () {\n          return favorite ? 'favorite-modal favorited' : 'favorite-modal';\n        }(),\n        onClick: this.handleFavoriteClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"\\u2665\"), React.createElement(\"a\", {\n        href: gif.bitly_url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, gif.bitly_url))));\n    }\n  }]);\n\n  return Gif;\n}(Component);\n\nexport { Gif as default };","map":{"version":3,"sources":["/Users/michaelye/code/spliffy/src/Gif.js"],"names":["React","Component","Modal","ReactDOM","Gif","props","handleMouseEnter","e","srcElement","classList","add","querySelector","handleMouseLeave","remove","handleFavoriteClick","gif","addFavorite","removeFavorite","state","favorite","setState","openModal","open","closeModal","findDOMNode","addEventListener","width","window","innerWidth","images","original","style","downsized_medium","url","title","bitly_url"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Modal from 'react-responsive-modal';\nimport ReactDOM from 'react-dom';\n\nexport default class Gif extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            favorite: props.favorite,\n        }\n    }\n\n    componentDidMount() {\n        const gif = ReactDOM.findDOMNode(this);\n        gif.addEventListener('mouseenter', this.handleMouseEnter);\n        gif.addEventListener('mouseleave', this.handleMouseLeave);\n    }\n\n    \n    /* Element event handlers */\n\n    handleMouseEnter = (e) => {\n        e.srcElement.classList.add('hover');\n        e.srcElement.querySelector('.favorite').classList.add('show');\n    }\n\n    handleMouseLeave = (e) => {\n        e.srcElement.classList.remove('hover');\n        e.srcElement.querySelector('.favorite').classList.remove('show');\n    }\n\n    handleFavoriteClick = () => {\n        const { gif, addFavorite, removeFavorite } = this.props;\n\n        if (this.state.favorite) {\n            this.setState({ favorite: false });\n            removeFavorite(gif);\n        } else {\n            this.setState({ favorite: true });\n            addFavorite(gif);\n        }\n    }\n\n\n    /* Modal handlers */\n\n    openModal = () => {\n        this.setState({ open: true });\n    };\n\n    closeModal = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        const { gif } = this.props,\n              { open, favorite } = this.state,\n              width = window.innerWidth - 65 > gif.images.original.width ? gif.images.original.width : window.innerWidth - 65,\n              style = { width };\n\n        return (\n            <div className=\"gif\">\n                <img src={gif.images.downsized_medium.url} \n                     alt=\"gif failed to load\" \n                     className=\"gif-img\" \n                     onClick={this.openModal}>\n                </img>\n                <div className={(() => favorite ? 'favorite favorited show' : 'favorite')()} onClick={this.handleFavoriteClick}>♥</div>\n                <Modal open={open} onClose={this.closeModal} center>\n                    <div className=\"gif-title\">{gif.title}</div>\n                    <img src={gif.images.original.url} \n                         alt=\"gif failed to load\" \n                         style={style}>\n                    </img>\n                    <div className=\"gif-url\">\n                        <div className={(() => favorite ? 'favorite-modal favorited' : 'favorite-modal')()} onClick={this.handleFavoriteClick}>♥</div>\n                        <a href={gif.bitly_url}>{gif.bitly_url}</a>\n                    </div>\n                </Modal>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}